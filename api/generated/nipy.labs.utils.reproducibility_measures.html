
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Neuroimaging in Python &#8212; NIPY Documentation</title>
    <link rel="stylesheet" href="../../_static/nipy.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="labs.utils.simul_multisubject_fmri_dataset" href="nipy.labs.utils.simul_multisubject_fmri_dataset.html" />
    <link rel="prev" title="labs.statistical_mapping" href="nipy.labs.statistical_mapping.html" />
  <meta name="keywords" content="nipy, neuroimaging, python, neuroscience, time
				 series">

  </head><body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <a href="../../index.html">
  <img src="../../_static/reggie2.png" alt="NIPY logo"  border="0" />
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nipy.labs.utils.simul_multisubject_fmri_dataset.html" title="labs.utils.simul_multisubject_fmri_dataset"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nipy.labs.statistical_mapping.html" title="labs.statistical_mapping"
             accesskey="P">previous</a> |</li>
  <li><a href="../../index.html">NIPY home</a> |&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../documentation.html" >NIPY documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" accesskey="U">API</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

  
<h4> Site Navigation </h4>
  <ul>
    <li><a href="../../documentation.html">Documentation</a></li>
    <li><a href="../../devel/index.html">Development</a></li>
  </ul>

<h4> NIPY Community </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://nipy.org/">Community Home</a></li>
    <li><a class="reference external"
	href="http://nipy.org/project-directory">NIPY Projects</a></li>
    <li><a class="reference external"
	href="https://mail.python.org/mailman/listinfo/neuroimaging">Mailing List</a></li>
    <li><a class="reference external"
	href="license.html">License</a></li>
  </ul>

<h4> Github repo </h4>
  <ul class="simple">
    <li><a class="reference external"
	href="http://github.com/nipy/nipy/">Nipy Github</a></li>
  </ul>

  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">labs.utils.reproducibility_measures</a><ul>
<li><a class="reference internal" href="#module-nipy.labs.utils.reproducibility_measures">Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">labs.utils.reproducibility_measures</span></code></a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="nipy.labs.statistical_mapping.html"
                        title="previous chapter">labs.statistical_mapping</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="nipy.labs.utils.simul_multisubject_fmri_dataset.html"
                        title="next chapter">labs.utils.simul_multisubject_fmri_dataset</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/api/generated/nipy.labs.utils.reproducibility_measures.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="labs-utils-reproducibility-measures">
<h1>labs.utils.reproducibility_measures<a class="headerlink" href="#labs-utils-reproducibility-measures" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-nipy.labs.utils.reproducibility_measures">
<span id="module-labs-utils-reproducibility-measures"></span><h2>Module: <code class="xref py py-mod docutils literal notranslate"><span class="pre">labs.utils.reproducibility_measures</span></code><a class="headerlink" href="#module-nipy.labs.utils.reproducibility_measures" title="Permalink to this headline">¶</a></h2>
<p>Functions for computing reproducibility measures.</p>
<dl class="simple">
<dt>General procedure is:</dt><dd><ul class="simple">
<li><p>dataset is subject to jacknife subampling (‘splitting’),</p></li>
<li><p>each subsample being analysed independently,</p></li>
<li><p>a reproducibility measure is then derived;</p></li>
</ul>
</dd>
</dl>
<p>It is used to produce the work described in Analysis of a large fMRI
cohort:</p>
<p>Statistical and methodological issues for group analyses.
Thirion B, Pinel P, Meriaux S, Roche A, Dehaene S, Poline JB.
Neuroimage. 2007 Mar;35(1):105-20.</p>
<p>Bertrand Thirion, 2009-2010</p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.bootstrap_group">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">bootstrap_group</code><span class="sig-paren">(</span><em class="sig-param">nsubj</em>, <em class="sig-param">ngroups</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.bootstrap_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the proposed group into redundant subgroups by bootstrap</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nsubj (int) the number of subjects in the population</strong></dt><dd></dd>
<dt><strong>ngroups(int) Number of subbgroups to be drawn</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>samples: a list of ngroups arrays containing</strong></dt><dd><p>the indexes of the subjects in each subgroup</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.cluster_reproducibility">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">cluster_reproducibility</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">vardata</em>, <em class="sig-param">domain</em>, <em class="sig-param">ngroups</em>, <em class="sig-param">sigma</em>, <em class="sig-param">method='crfx'</em>, <em class="sig-param">swap=False</em>, <em class="sig-param">verbose=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.cluster_reproducibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a measure of cluster-level reproducibility
of activation patterns
(i.e. how far clusters are from each other)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data: array of shape (nvox,nsubj)</strong></dt><dd><p>the input data from which everything is computed</p>
</dd>
<dt><strong>vardata: array of shape (nvox,nsubj)</strong></dt><dd><p>the variance of the data that is also available</p>
</dd>
<dt><strong>domain: referential- and domain- defining image instance</strong></dt><dd></dd>
<dt><strong>ngroups (int),</strong></dt><dd><p>Number of subbgroups to be drawn</p>
</dd>
<dt><strong>sigma (float): parameter that encodes how far far is</strong></dt><dd></dd>
<dt><strong>threshold (float):</strong></dt><dd><p>binarization threshold</p>
</dd>
<dt><strong>method=’crfx’, string to be chosen among ‘crfx’, ‘cmfx’ or ‘cffx’</strong></dt><dd><p>inference method under study</p>
</dd>
<dt><strong>swap = False: if True, a random sign swap of the data is performed</strong></dt><dd><p>This is used to simulate a null hypothesis on the data.</p>
</dd>
<dt><strong>verbose=0</strong><span class="classifier">verbosity mode</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>score (float): the desired  cluster-level reproducibility index</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.cluster_threshold">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">cluster_threshold</code><span class="sig-paren">(</span><em class="sig-param">stat_map</em>, <em class="sig-param">domain</em>, <em class="sig-param">th</em>, <em class="sig-param">csize</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.cluster_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a thresholding of a map at the cluster-level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>stat_map: array of shape(nbvox)</strong></dt><dd><p>the input data</p>
</dd>
<dt><strong>domain: Nifti1Image instance,</strong></dt><dd><p>referential- and domain-defining image</p>
</dd>
<dt><strong>th (float): cluster-forming threshold</strong></dt><dd></dd>
<dt><strong>csize (int&gt;0): cluster size threshold</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>binary array of shape (nvox): the binarized thresholded map</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Should be replaced by a more standard function in the future</p>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.conjunction">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">conjunction</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">vx</em>, <em class="sig-param">k</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.conjunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a conjunction statistic as the sum of the k lowest t-values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: array of shape(nrows, ncols),</strong></dt><dd><p>effect matrix</p>
</dd>
<dt><strong>vx: array of shape(nrows, ncols),</strong></dt><dd><p>variance matrix</p>
</dd>
<dt><strong>k: int,</strong></dt><dd><p>number of subjects in the conjunction</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>t array of shape(nrows): conjunction statistic</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.coord_bsa">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">coord_bsa</code><span class="sig-paren">(</span><em class="sig-param">domain</em>, <em class="sig-param">betas</em>, <em class="sig-param">theta=3.0</em>, <em class="sig-param">dmax=5.0</em>, <em class="sig-param">ths=0</em>, <em class="sig-param">thq=0.5</em>, <em class="sig-param">smin=0</em>, <em class="sig-param">afname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.coord_bsa" title="Permalink to this definition">¶</a></dt>
<dd><p>main function for  performing bsa on a dataset
where bsa =  nipy.labs.spatial_models.bayesian_structural_analysis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>domain: image instance,</strong></dt><dd><p>referential- and domain-defining image</p>
</dd>
<dt><strong>betas: array of shape (nbnodes, subjects),</strong></dt><dd><p>the multi-subject statistical maps</p>
</dd>
<dt><strong>theta: float, optional</strong></dt><dd><p>first level threshold</p>
</dd>
<dt><strong>dmax: float&gt;0, optional</strong></dt><dd><p>expected cluster std in the common space in units of coord</p>
</dd>
<dt><strong>ths: int, &gt;=0), optional</strong></dt><dd><p>representatitivity threshold</p>
</dd>
<dt><strong>thq: float, optional,</strong></dt><dd><p>posterior significance threshold should be in [0,1]</p>
</dd>
<dt><strong>smin: int, optional,</strong></dt><dd><p>minimal size of the regions to validate them</p>
</dd>
<dt><strong>afname: string, optional</strong></dt><dd><p>path where intermediate results cam be pickled</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>afcoord array of shape(number_of_regions,3):</strong></dt><dd><p>coordinate of the found landmark regions</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.draw_samples">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">draw_samples</code><span class="sig-paren">(</span><em class="sig-param">nsubj</em>, <em class="sig-param">ngroups</em>, <em class="sig-param">split_method='default'</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.draw_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw randomly ngroups sets of samples from [0..nsubj-1]</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>nsubj, int, the total number of items</strong></dt><dd></dd>
<dt><strong>ngroups, int, the number of desired groups</strong></dt><dd></dd>
<dt><strong>split_method: string, optional,</strong></dt><dd><p>to be chosen among ‘default’, ‘bootstrap’, ‘jacknife’
if ‘bootstrap’, then each group will be nsubj</p>
<blockquote>
<div><p>drawn with repetitions among nsubj</p>
</div></blockquote>
<dl class="simple">
<dt>if ‘jacknife’ the population is divided into</dt><dd><p>ngroups disjoint equally-sized subgroups</p>
</dd>
<dt>if ‘default’, ‘bootstrap’ is used when nsubj &lt; 10 * ngroups</dt><dd><p>otherwise jacknife is used</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>samples, a list of ngroups array that represent the subsets.</strong></dt><dd></dd>
<dt><strong>fixme</strong><span class="classifier">this should allow variable bootstrap,</span></dt><dd></dd>
<dt><strong>i.e. draw ngroups of groupsize among nsubj</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.fttest">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">fttest</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">vx</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.fttest" title="Permalink to this definition">¶</a></dt>
<dd><p>Assuming that x and vx represent a effect and variance estimates,
returns a cumulated (‘fixed effects’) t-test of the data over each row</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: array of shape(nrows, ncols): effect matrix</strong></dt><dd></dd>
<dt><strong>vx: array of shape(nrows, ncols): variance matrix</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>t array of shape(nrows): fixed effect statistics array</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.get_cluster_position_from_thresholded_map">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">get_cluster_position_from_thresholded_map</code><span class="sig-paren">(</span><em class="sig-param">stat_map</em>, <em class="sig-param">domain</em>, <em class="sig-param">thr=3.0</em>, <em class="sig-param">csize=10</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.get_cluster_position_from_thresholded_map" title="Permalink to this definition">¶</a></dt>
<dd><p>the clusters above thr of size greater than csize in
18-connectivity are computed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>stat_map</strong><span class="classifier">array of shape (nbvox),</span></dt><dd><p>map to threshold</p>
</dd>
<dt><strong>mask: Nifti1Image instance,</strong></dt><dd><p>referential- and domain-defining image</p>
</dd>
<dt><strong>thr: float, optional,</strong></dt><dd><p>cluster-forming threshold</p>
</dd>
<dt><strong>cisze=10: int</strong></dt><dd><p>cluster size threshold</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>positions array of shape(k,anat_dim):</strong></dt><dd><p>the cluster positions in physical coordinates
where k= number of clusters
if no such cluster exists, None is returned</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.get_peak_position_from_thresholded_map">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">get_peak_position_from_thresholded_map</code><span class="sig-paren">(</span><em class="sig-param">stat_map</em>, <em class="sig-param">domain</em>, <em class="sig-param">threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.get_peak_position_from_thresholded_map" title="Permalink to this definition">¶</a></dt>
<dd><p>The peaks above thr in 18-connectivity are computed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>stat_map: array of shape (nbvox): map to threshold</strong></dt><dd></dd>
<dt><strong>deomain: referential- and domain-defining image</strong></dt><dd></dd>
<dt><strong>thr, float: cluster-forming threshold</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>positions array of shape(k,anat_dim):</strong></dt><dd><p>the cluster positions in physical coordinates
where k= number of clusters
if no such cluster exists, None is returned</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.group_reproducibility_metrics">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">group_reproducibility_metrics</code><span class="sig-paren">(</span><em class="sig-param">mask_images</em>, <em class="sig-param">contrast_images</em>, <em class="sig-param">variance_images</em>, <em class="sig-param">thresholds</em>, <em class="sig-param">ngroups</em>, <em class="sig-param">method</em>, <em class="sig-param">cluster_threshold=10</em>, <em class="sig-param">number_of_samples=10</em>, <em class="sig-param">sigma=6.0</em>, <em class="sig-param">do_clusters=True</em>, <em class="sig-param">do_voxels=True</em>, <em class="sig-param">do_peaks=True</em>, <em class="sig-param">swap=False</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.group_reproducibility_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function to perform reproducibility analysis, including nifti1 io</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>threshold: list or 1-d array,</strong></dt><dd><p>the thresholds to be tested</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>cluster_rep_results: dictionary,</strong></dt><dd><p>results of cluster-level reproducibility analysis</p>
</dd>
<dt><strong>voxel_rep_results: dictionary,</strong></dt><dd><p>results of voxel-level reproducibility analysis</p>
</dd>
<dt><strong>peak_rep_results: dictionary,</strong></dt><dd><p>results of peak-level reproducibility analysis</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.histo_repro">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">histo_repro</code><span class="sig-paren">(</span><em class="sig-param">h</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.histo_repro" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the histogram h, compute a standardized reproducibility measure</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>h array of shape(xmax+1), the histogram values</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>hr, float: the measure</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.map_reproducibility">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">map_reproducibility</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">vardata</em>, <em class="sig-param">domain</em>, <em class="sig-param">ngroups</em>, <em class="sig-param">method='crfx'</em>, <em class="sig-param">swap=False</em>, <em class="sig-param">verbose=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.map_reproducibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a reproducibility map for the given method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data: array of shape (nvox,nsubj)</strong></dt><dd><p>the input data from which everything is computed</p>
</dd>
<dt><strong>vardata: array of the same size</strong></dt><dd><p>the corresponding variance information</p>
</dd>
<dt><strong>domain: referential- and domain-defining image</strong></dt><dd></dd>
<dt><strong>ngroups (int): the size of each subrgoup to be studied</strong></dt><dd></dd>
<dt><strong>threshold (float): binarization threshold</strong></dt><dd><p>(makes sense only if method==rfx)</p>
</dd>
<dt><strong>method=’crfx’, string to be chosen among ‘crfx’, ‘cmfx’, ‘cffx’</strong></dt><dd><p>inference method under study</p>
</dd>
<dt><strong>verbose=0</strong><span class="classifier">verbosity mode</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>rmap: array of shape(nvox)</strong></dt><dd><p>the reproducibility map</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.mfx_ttest">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">mfx_ttest</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">vx</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.mfx_ttest" title="Permalink to this definition">¶</a></dt>
<dd><p>Idem fttest, but returns a mixed-effects statistic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: array of shape(nrows, ncols): effect matrix</strong></dt><dd></dd>
<dt><strong>vx: array of shape(nrows, ncols): variance matrix</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>t array of shape(nrows): mixed effect statistics array</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.peak_reproducibility">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">peak_reproducibility</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">vardata</em>, <em class="sig-param">domain</em>, <em class="sig-param">ngroups</em>, <em class="sig-param">sigma</em>, <em class="sig-param">method='crfx'</em>, <em class="sig-param">swap=False</em>, <em class="sig-param">verbose=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.peak_reproducibility" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a measure of cluster-level reproducibility
of activation patterns
(i.e. how far clusters are from each other)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data: array of shape (nvox,nsubj)</strong></dt><dd><p>the input data from which everything is computed</p>
</dd>
<dt><strong>vardata: array of shape (nvox,nsubj)</strong></dt><dd><p>the variance of the data that is also available</p>
</dd>
<dt><strong>domain: referential- and domain-defining image</strong></dt><dd></dd>
<dt><strong>ngroups (int),</strong></dt><dd><p>Number of subbgroups to be drawn</p>
</dd>
<dt><strong>sigma: float, parameter that encodes how far far is</strong></dt><dd></dd>
<dt><strong>threshold: float, binarization threshold</strong></dt><dd></dd>
<dt><strong>method: string to be chosen among ‘crfx’, ‘cmfx’ or ‘cffx’,</strong></dt><dd><p>inference method under study</p>
</dd>
<dt><strong>swap = False: if True, a random sign swap of the data is performed</strong></dt><dd><p>This is used to simulate a null hypothesis on the data.</p>
</dd>
<dt><strong>verbose=0</strong><span class="classifier">verbosity mode</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>score (float): the desired  cluster-level reproducibility index</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.split_group">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">split_group</code><span class="sig-paren">(</span><em class="sig-param">nsubj</em>, <em class="sig-param">ngroups</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.split_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the proposed group into random disjoint subgroups</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nsubj (int) the number of subjects to be split</strong></dt><dd></dd>
<dt><strong>ngroups(int) Number of subbgroups to be drawn</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>samples: a list of ngroups arrays containing</strong></dt><dd><p>the indexes of the subjects in each subgroup</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.statistics_from_position">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">statistics_from_position</code><span class="sig-paren">(</span><em class="sig-param">target</em>, <em class="sig-param">data</em>, <em class="sig-param">sigma=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.statistics_from_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a number characterizing how close data is from
target using a kernel-based statistic</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>target: array of shape(nt,anat_dim) or None</strong></dt><dd><p>the target positions</p>
</dd>
<dt><strong>data: array of shape(nd,anat_dim) or None</strong></dt><dd><p>the data position</p>
</dd>
<dt><strong>sigma=1.0 (float), kernel parameter</strong></dt><dd><p>or  a distance that say how good good is</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>sensitivity (float): how well the targets are fitted</strong></dt><dd><p>by the data  in [0,1] interval
1 is good
0 is bad</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.ttest">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">ttest</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.ttest" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the t-test for each row of the data x</p>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.voxel_reproducibility">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">voxel_reproducibility</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">vardata</em>, <em class="sig-param">domain</em>, <em class="sig-param">ngroups</em>, <em class="sig-param">method='crfx'</em>, <em class="sig-param">swap=False</em>, <em class="sig-param">verbose=0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.voxel_reproducibility" title="Permalink to this definition">¶</a></dt>
<dd><p>return a measure of voxel-level reproducibility of activation patterns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data: array of shape (nvox,nsubj)</strong></dt><dd><p>the input data from which everything is computed</p>
</dd>
<dt><strong>vardata: array of shape (nvox,nsubj)</strong></dt><dd><p>the corresponding variance information
ngroups (int):
Number of subbgroups to be drawn</p>
</dd>
<dt><strong>domain: referential- and domain-defining image</strong></dt><dd></dd>
<dt><strong>ngourps: int,</strong></dt><dd><p>number of groups to be used in the resampling procedure</p>
</dd>
<dt><strong>method: string, to be chosen among ‘crfx’, ‘cmfx’, ‘cffx’</strong></dt><dd><p>inference method under study</p>
</dd>
<dt><strong>verbose: bool, verbosity mode</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>kappa (float): the desired  reproducibility index</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="nipy.labs.utils.reproducibility_measures.voxel_thresholded_ttest">
<code class="sig-prename descclassname">nipy.labs.utils.reproducibility_measures.</code><code class="sig-name descname">voxel_thresholded_ttest</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">threshold</em><span class="sig-paren">)</span><a class="headerlink" href="#nipy.labs.utils.reproducibility_measures.voxel_thresholded_ttest" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a binary map of the ttest&gt;threshold</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nipy.labs.utils.simul_multisubject_fmri_dataset.html" title="labs.utils.simul_multisubject_fmri_dataset"
             >next</a> |</li>
        <li class="right" >
          <a href="nipy.labs.statistical_mapping.html" title="labs.statistical_mapping"
             >previous</a> |</li>
  <li><a href="../../index.html">NIPY home</a> |&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../documentation.html" >NIPY documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >API</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2021, Neuroimaging in Python team.
      Last updated on Mar 29, 2021.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>